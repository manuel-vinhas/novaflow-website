"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7685],{29:(e,t,r)=>{r.d(t,{y3:()=>Q,n_:()=>N,IT:()=>A});var n=r(12115),i=r(46464),o=Object.defineProperty,s=(e,t,r)=>t in e?o(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,a=(e,t,r)=>s(e,"symbol"!=typeof t?t+"":t,r),u=Object.defineProperty,l=Object.defineProperty,c=r(79469);r(24023);var d=Object.defineProperty,h=Object.defineProperty,f=(e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t,r)=>f(e,"symbol"!=typeof t?t+"":t,r);class y{constructor(e,t){p(this,"low"),p(this,"high"),p(this,"__isUnsignedLong__"),this.low=0|e,this.high=0|t,this.__isUnsignedLong__=!0}static isLong(e){return!0===(e&&e.__isUnsignedLong__)}static fromBytesLE(e){return new y(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24)}toBytesLE(){let e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]}static fromNumber(e){return isNaN(e)||e<0?v:e>=b?g:new y(e%m|0,e/m|0)}toString(){return(BigInt(this.high)*BigInt(m)+BigInt(this.low)).toString()}equals(e){return y.isLong(e)||(e=y.fromValue(e)),(this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low}notEquals(e){return!this.equals(e)}comp(e){return(y.isLong(e)||(e=y.fromValue(e)),this.equals(e))?0:e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1}lessThanOrEqual(e){return 0>=this.comp(e)}static fromValue(e){return"number"==typeof e?y.fromNumber(e):new y(e.low,e.high)}}let v=new y(0,0),m=0x100000000,b=0xffffffffffffffff,g=new y(-1,-1);var w=Object.defineProperty,x=Object.defineProperty;function O(e){this.message=e}function E(e){this.message=e}O.prototype=Error(),O.prototype.name="InvalidCharacterError","undefined"!=typeof window&&window.atob&&window.atob.bind(window),E.prototype=Error(),E.prototype.name="InvalidTokenError";var $=Object.defineProperty,j=Object.defineProperty,q=Object.defineProperty,C=Object.defineProperty,k=r(47650),I=r(3343),P=Object.defineProperty;if(void 0===n)throw Error("Required dependency 'react' not found");if(void 0===k)throw Error("Required dependency 'react-dom' not found");let S=n.createContext(void 0);function A(e,...t){let r="skip"===t[0],o="skip"===t[0]?{}:(0,I.Zy)(t[0]),s="string"==typeof e?(0,c.Gg)(e):e,a=(0,c.qQ)(s),u=function(e){let t=(0,n.useContext)(S);if(void 0===t)throw Error("Could not find Convex client! `useQuery` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return function(e,t){let[r]=(0,n.useState)(()=>new B(t));return r.createWatch!==t&&r.setCreateWatch(t),(0,n.useEffect)(()=>()=>r.destroy(),[r]),function({getCurrentValue:e,subscribe:t}){let[r,i]=(0,n.useState)(()=>({getCurrentValue:e,subscribe:t,value:e()})),o=r.value;return(r.getCurrentValue!==e||r.subscribe!==t)&&(o=e(),i({getCurrentValue:e,subscribe:t,value:o})),(0,n.useEffect)(()=>{let r=!1,n=()=>{!r&&i(r=>{if(r.getCurrentValue!==e||r.subscribe!==t)return r;let n=e();return r.value===n?r:{...r,value:n}})},o=t(n);return n(),()=>{r=!0,o()}},[e,t]),o}((0,n.useMemo)(()=>({getCurrentValue:()=>r.getLocalResults(e),subscribe:t=>(r.setQueries(e),r.subscribe(t))}),[r,e]))}(e,(0,n.useMemo)(()=>(e,r,n)=>t.watchQuery(e,r,{journal:n}),[t]))}((0,n.useMemo)(()=>r?{}:{query:{query:s,args:o}},[JSON.stringify((0,i.rz)(o)),a,r])).query;if(u instanceof Error)throw u;return u}function N(e){let t="string"==typeof e?(0,c.Gg)(e):e,r=(0,n.useContext)(S);if(void 0===r)throw Error("Could not find Convex client! `useMutation` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return(0,n.useMemo)(()=>(function e(t,r,n){function i(e){return function(e){if("object"==typeof e&&null!==e&&"bubbles"in e&&"persist"in e&&"isDefaultPrevented"in e)throw Error("Convex function called with SyntheticEvent object. Did you use a Convex function as an event handler directly? Event handlers like onClick receive an event object as their first argument. These SyntheticEvent objects are not valid Convex values. Try wrapping the function like `const handler = () => myMutation();` and using `handler` in the event handler.")}(e),r.mutation(t,e,{optimisticUpdate:n})}return i.withOptimisticUpdate=function(i){if(void 0!==n)throw Error(`Already specified optimistic update for mutation ${(0,c.qQ)(t)}`);return e(t,r,i)},i})(t,r),[r,(0,c.qQ)(t)])}function Q(e){let t=(0,n.useContext)(S),r="string"==typeof e?(0,c.Gg)(e):e;if(void 0===t)throw Error("Could not find Convex client! `useAction` must be used in the React component tree under `ConvexProvider`. Did you forget it? See https://docs.convex.dev/quick-start#set-up-convex-in-your-react-app");return(0,n.useMemo)(()=>function(e){return t.action(r,e)},[t,(0,c.qQ)(r)])}var T=Object.defineProperty,_=(e,t,r)=>t in e?T(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,R=(e,t,r)=>_(e,"symbol"!=typeof t?t+"":t,r);class B{constructor(e){R(this,"createWatch"),R(this,"queries"),R(this,"listeners"),this.createWatch=e,this.queries={},this.listeners=new Set}setQueries(e){for(let t of Object.keys(e)){let{query:r,args:n}=e[t];if((0,c.qQ)(r),void 0===this.queries[t])this.addQuery(t,r,n);else{let e=this.queries[t];((0,c.qQ)(r)!==(0,c.qQ)(e.query)||JSON.stringify((0,i.rz)(n))!==JSON.stringify((0,i.rz)(e.args)))&&(this.removeQuery(t),this.addQuery(t,r,n))}}for(let t of Object.keys(this.queries))void 0===e[t]&&this.removeQuery(t)}subscribe(e){return this.listeners.add(e),()=>{this.listeners.delete(e)}}getLocalResults(e){let t={};for(let r of Object.keys(e)){let n;let{query:i,args:o}=e[r];(0,c.qQ)(i);let s=this.createWatch(i,o);try{n=s.localQueryResult()}catch(e){if(e instanceof Error)n=e;else throw e}t[r]=n}return t}setCreateWatch(e){for(let t of(this.createWatch=e,Object.keys(this.queries))){let{query:e,args:r,watch:n}=this.queries[t],i=n.journal();this.removeQuery(t),this.addQuery(t,e,r,i)}}destroy(){for(let e of Object.keys(this.queries))this.removeQuery(e);this.listeners=new Set}addQuery(e,t,r,n){if(void 0!==this.queries[e])throw Error(`Tried to add a new query with identifier ${e} when it already exists.`);let i=this.createWatch(t,r,n),o=i.onUpdate(()=>this.notifyListeners());this.queries[e]={query:t,args:r,watch:i,unsubscribe:o}}removeQuery(e){let t=this.queries[e];if(void 0===t)throw Error(`No query found with identifier ${e}.`);t.unsubscribe(),delete this.queries[e]}notifyListeners(){for(let e of this.listeners)e()}}(0,n.createContext)(void 0)},3343:(e,t,r)=>{function n(e){if(void 0===e)return{};if(!i(e))throw Error(`The arguments to a Convex function must be an object. Received: ${e}`);return e}function i(e){let t="object"==typeof e,r=Object.getPrototypeOf(e),n=null===r||r===Object.prototype||r?.constructor?.name==="Object";return t&&n}r.d(t,{Zy:()=>n,iY:()=>i})},11420:(e,t,r)=>{r.d(t,{d:()=>x,v:()=>O});var n=r(20193),i=Object.defineProperty,o=(e,t,r)=>t in e?i(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,s=(e,t,r)=>o(e,"symbol"!=typeof t?t+"":t,r);class a{constructor({isOptional:e}){s(this,"type"),s(this,"fieldPaths"),s(this,"isOptional"),s(this,"isConvexValidator"),this.isOptional=e,this.isConvexValidator=!0}get optional(){return"optional"===this.isOptional}}class u extends a{constructor({isOptional:e,tableName:t}){super({isOptional:e}),s(this,"tableName"),s(this,"kind","id"),this.tableName=t}get json(){return{type:"id",tableName:this.tableName}}asOptional(){return new u({isOptional:"optional",tableName:this.tableName})}}class l extends a{constructor(){super(...arguments),s(this,"kind","float64")}get json(){return{type:"number"}}asOptional(){return new l({isOptional:"optional"})}}class c extends a{constructor(){super(...arguments),s(this,"kind","int64")}get json(){return{type:"bigint"}}asOptional(){return new c({isOptional:"optional"})}}class d extends a{constructor(){super(...arguments),s(this,"kind","boolean")}get json(){return{type:this.kind}}asOptional(){return new d({isOptional:"optional"})}}class h extends a{constructor(){super(...arguments),s(this,"kind","bytes")}get json(){return{type:this.kind}}asOptional(){return new h({isOptional:"optional"})}}class f extends a{constructor(){super(...arguments),s(this,"kind","string")}get json(){return{type:this.kind}}asOptional(){return new f({isOptional:"optional"})}}class p extends a{constructor(){super(...arguments),s(this,"kind","null")}get json(){return{type:this.kind}}asOptional(){return new p({isOptional:"optional"})}}class y extends a{constructor(){super(...arguments),s(this,"kind","any")}get json(){return{type:this.kind}}asOptional(){return new y({isOptional:"optional"})}}class v extends a{constructor({isOptional:e,fields:t}){super({isOptional:e}),s(this,"fields"),s(this,"kind","object"),this.fields=t}get json(){return{type:this.kind,value:globalThis.Object.fromEntries(globalThis.Object.entries(this.fields).map(([e,t])=>[e,{fieldType:t.json,optional:"optional"===t.isOptional}]))}}asOptional(){return new v({isOptional:"optional",fields:this.fields})}}class m extends a{constructor({isOptional:e,value:t}){super({isOptional:e}),s(this,"value"),s(this,"kind","literal"),this.value=t}get json(){return{type:this.kind,value:(0,n.rz)(this.value)}}asOptional(){return new m({isOptional:"optional",value:this.value})}}class b extends a{constructor({isOptional:e,element:t}){super({isOptional:e}),s(this,"element"),s(this,"kind","array"),this.element=t}get json(){return{type:this.kind,value:this.element.json}}asOptional(){return new b({isOptional:"optional",element:this.element})}}class g extends a{constructor({isOptional:e,key:t,value:r}){if(super({isOptional:e}),s(this,"key"),s(this,"value"),s(this,"kind","record"),"optional"===t.isOptional)throw Error("Record validator cannot have optional keys");if("optional"===r.isOptional)throw Error("Record validator cannot have optional values");this.key=t,this.value=r}get json(){return{type:this.kind,keys:this.key.json,values:{fieldType:this.value.json,optional:!1}}}asOptional(){return new g({isOptional:"optional",key:this.key,value:this.value})}}class w extends a{constructor({isOptional:e,members:t}){super({isOptional:e}),s(this,"members"),s(this,"kind","union"),this.members=t}get json(){return{type:this.kind,value:this.members.map(e=>e.json)}}asOptional(){return new w({isOptional:"optional",members:this.members})}}function x(e){return!!e.isConvexValidator}let O={id:e=>new u({isOptional:"required",tableName:e}),null:()=>new p({isOptional:"required"}),number:()=>new l({isOptional:"required"}),float64:()=>new l({isOptional:"required"}),bigint:()=>new c({isOptional:"required"}),int64:()=>new c({isOptional:"required"}),boolean:()=>new d({isOptional:"required"}),string:()=>new f({isOptional:"required"}),bytes:()=>new h({isOptional:"required"}),literal:e=>new m({isOptional:"required",value:e}),array:e=>new b({isOptional:"required",element:e}),object:e=>new v({isOptional:"required",fields:e}),record:(e,t)=>new g({isOptional:"required",key:e,value:t}),union:(...e)=>new w({isOptional:"required",members:e}),any:()=>new y({isOptional:"required"}),optional:e=>e.asOptional()}},20193:(e,t,r)=>{r.d(t,{E$:()=>p,cy:()=>g,du:()=>function e(t){if(null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t)return t;if(Array.isArray(t))return t.map(t=>e(t));if("object"!=typeof t)throw Error(`Unexpected type of ${t}`);let r=Object.entries(t);if(1===r.length){let e=r[0][0];if("$bytes"===e){if("string"!=typeof t.$bytes)throw Error(`Malformed $bytes field on ${t}`);return n.bg(t.$bytes).buffer}if("$integer"===e){if("string"!=typeof t.$integer)throw Error(`Malformed $integer field on ${t}`);return h(t.$integer)}if("$float"===e){if("string"!=typeof t.$float)throw Error(`Malformed $float field on ${t}`);let e=n.bg(t.$float);if(8!==e.byteLength)throw Error(`Received ${e.byteLength} bytes, expected 8 for $float`);let r=new DataView(e.buffer).getFloat64(0,!0);if(!c(r))throw Error(`Float ${r} should be encoded as a number`);return r}if("$set"===e)throw Error("Received a Set which is no longer supported as a Convex type.");if("$map"===e)throw Error("Received a Map which is no longer supported as a Convex type.")}let i={};for(let[r,n]of Object.entries(t))f(r),i[r]=e(n);return i},rz:()=>b});var n=r(48399),i=r(3343);let o=BigInt("-9223372036854775808"),s=BigInt("9223372036854775807"),a=BigInt("0"),u=BigInt("8"),l=BigInt("256");function c(e){return Number.isNaN(e)||!Number.isFinite(e)||Object.is(e,-0)}let d=DataView.prototype.setBigInt64?function(e){if(e<o||s<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);let t=new ArrayBuffer(8);return new DataView(t).setBigInt64(0,e,!0),n.iI(new Uint8Array(t))}:function(e){e<a&&(e-=o+o);let t=e.toString(16);t.length%2==1&&(t="0"+t);let r=new Uint8Array(new ArrayBuffer(8)),i=0;for(let n of t.match(/.{2}/g).reverse())r.set([parseInt(n,16)],i++),e>>=u;return n.iI(r)},h=DataView.prototype.getBigInt64?function(e){let t=n.bg(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);return new DataView(t.buffer).getBigInt64(0,!0)}:function(e){let t=n.bg(e);if(8!==t.byteLength)throw Error(`Received ${t.byteLength} bytes, expected 8 for $integer`);let r=a,i=a;for(let e of t)r+=BigInt(e)*l**i,i++;return r>s&&(r+=o+o),r};function f(e){if(e.length>1024)throw Error(`Field name ${e} exceeds maximum field name length 1024.`);if(e.startsWith("$"))throw Error(`Field name ${e} starts with a '$', which is reserved.`);for(let t=0;t<e.length;t+=1){let r=e.charCodeAt(t);if(r<32||r>=127)throw Error(`Field name ${e} has invalid character '${e[t]}': Field names can only contain non-control ASCII characters`)}}function p(e){return JSON.stringify(e,(e,t)=>void 0===t?"undefined":"bigint"==typeof t?`${t.toString()}n`:t)}function y(e,t,r,a){if(void 0===e){let e=r&&` (present at path ${r} in original object ${p(t)})`;throw Error(`undefined is not a valid Convex value${e}. To learn about Convex's supported types, see https://docs.convex.dev/using/types.`)}if(null===e)return e;if("bigint"==typeof e){if(e<o||s<e)throw Error(`BigInt ${e} does not fit into a 64-bit signed integer.`);return{$integer:d(e)}}if("number"==typeof e){if(!c(e))return e;{let t=new ArrayBuffer(8);return new DataView(t).setFloat64(0,e,!0),{$float:n.iI(new Uint8Array(t))}}}if("boolean"==typeof e||"string"==typeof e)return e;if(e instanceof ArrayBuffer)return{$bytes:n.iI(new Uint8Array(e))};if(Array.isArray(e))return e.map((e,n)=>y(e,t,r+`[${n}]`,!1));if(e instanceof Set)throw Error(v(r,"Set",[...e],t));if(e instanceof Map)throw Error(v(r,"Map",[...e],t));if(!(0,i.iY)(e)){let n=e?.constructor?.name;throw Error(v(r,n?`${n} `:"",e,t))}let u={},l=Object.entries(e);for(let[e,n]of(l.sort(([e,t],[r,n])=>e===r?0:e<r?-1:1),l))void 0!==n?(f(e),u[e]=y(n,t,r+`.${e}`,!1)):a&&(f(e),u[e]=m(n,t,r+`.${e}`));return u}function v(e,t,r,n){return e?`${t}${p(r)} is not a supported Convex type (present at path ${e} in original object ${p(n)}). To learn about Convex's supported types, see https://docs.convex.dev/using/types.`:`${t}${p(r)} is not a supported Convex type.`}function m(e,t,r){if(void 0===e)return{$undefined:null};if(void 0===t)throw Error(`Programming error. Current value is ${p(e)} but original value is undefined`);return y(e,t,r,!1)}function b(e){return y(e,e,"",!1)}function g(e){return m(e,e,"")}},24023:(e,t,r)=>{r.d(t,{i:()=>c});var n,i,o=r(20193),s=Object.defineProperty,a=(e,t,r)=>t in e?s(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,u=(e,t,r)=>a(e,"symbol"!=typeof t?t+"":t,r);let l=Symbol.for("ConvexError");class c extends(i=Error,n=l,i){constructor(e){super("string"==typeof e?e:(0,o.E$)(e)),u(this,"name","ConvexError"),u(this,"data"),u(this,n,!0),this.data=e}}},46464:(e,t,r)=>{r.d(t,{du:()=>n.du,rz:()=>n.rz});var n=r(20193);r(11420),r(48399),r(24023)},48399:(e,t,r)=>{r.d(t,{bg:()=>l,iI:()=>c});for(var n=[],i=[],o=Uint8Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=s.length;a<u;++a)n[a]=s[a],i[s.charCodeAt(a)]=a;function l(e){var t,r,n=function(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}(e),s=n[0],a=n[1],u=new o((s+a)*3/4-a),l=0,c=a>0?s-4:s;for(r=0;r<c;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[l++]=t>>16&255,u[l++]=t>>8&255,u[l++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[l++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[l++]=t>>8&255,u[l++]=255&t),u}function c(e){for(var t,r=e.length,i=r%3,o=[],s=0,a=r-i;s<a;s+=16383)o.push(function(e,t,r){for(var i,o=[],s=t;s<r;s+=3)i=(e[s]<<16&0xff0000)+(e[s+1]<<8&65280)+(255&e[s+2]),o.push(n[i>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return o.join("")}(e,s,s+16383>a?a:s+16383));return 1===i?o.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&o.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),o.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},51272:(e,t,r)=>{r.d(t,{Jc:()=>o});var n=r(99564);let i=Symbol.for("toReferencePath");function o(e){let t;if("string"==typeof e)t=e.startsWith("function://")?{functionHandle:e}:{name:e};else if(e[n.A])t={name:e[n.A]};else{let r=e[i]??null;if(!r)throw Error(`${e} is not a functionReference`);t={reference:r}}return t}},68617:(e,t,r)=>{r.d(t,{dp:()=>en.dp});var n=r(46464),i=r(24023),o=r(20193);function s(e,t){if("undefined"==typeof Convex||void 0===Convex.syscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");return JSON.parse(Convex.syscall(e,JSON.stringify(t)))}async function a(e,t){let r;if("undefined"==typeof Convex||void 0===Convex.asyncSyscall)throw Error("The Convex database and auth objects are being used outside of a Convex backend. Did you mean to use `useQuery` or `useMutation` to call a Convex function?");try{r=await Convex.asyncSyscall(e,JSON.stringify(t))}catch(e){if(void 0!==e.data){let t=new i.i(e.message);throw t.data=(0,o.du)(e.data),t}throw Error(e.message)}return JSON.parse(r)}r(51272);var u=Object.defineProperty,l=(e,t,r)=>t in e?u(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,c=(e,t,r)=>l(e,"symbol"!=typeof t?t+"":t,r);class d{constructor(){c(this,"_isExpression"),c(this,"_value")}}var h=Object.defineProperty,f=(e,t,r)=>t in e?h(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,p=(e,t,r)=>f(e,"symbol"!=typeof t?t+"":t,r);class y extends d{constructor(e){super(),p(this,"inner"),this.inner=e}serialize(){return this.inner}}function v(e){return e instanceof y?e.serialize():{$literal:(0,o.cy)(e)}}let m={eq(e,t){if("string"!=typeof e)throw Error("The first argument to `q.eq` must be a field name.");return new y({$eq:[v(new y({$field:e})),v(t)]})},or:(...e)=>new y({$or:e.map(v)})};var b=Object.defineProperty,g=(e,t,r)=>t in e?b(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,w=(e,t,r)=>g(e,"symbol"!=typeof t?t+"":t,r);class x{constructor(){w(this,"_isExpression"),w(this,"_value")}}var O=Object.defineProperty,E=(e,t,r)=>t in e?O(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,$=(e,t,r)=>E(e,"symbol"!=typeof t?t+"":t,r);class j extends x{constructor(e){super(),$(this,"inner"),this.inner=e}serialize(){return this.inner}}function q(e){return e instanceof j?e.serialize():{$literal:(0,o.cy)(e)}}let C={eq:(e,t)=>new j({$eq:[q(e),q(t)]}),neq:(e,t)=>new j({$neq:[q(e),q(t)]}),lt:(e,t)=>new j({$lt:[q(e),q(t)]}),lte:(e,t)=>new j({$lte:[q(e),q(t)]}),gt:(e,t)=>new j({$gt:[q(e),q(t)]}),gte:(e,t)=>new j({$gte:[q(e),q(t)]}),add:(e,t)=>new j({$add:[q(e),q(t)]}),sub:(e,t)=>new j({$sub:[q(e),q(t)]}),mul:(e,t)=>new j({$mul:[q(e),q(t)]}),div:(e,t)=>new j({$div:[q(e),q(t)]}),mod:(e,t)=>new j({$mod:[q(e),q(t)]}),neg:e=>new j({$neg:q(e)}),and:(...e)=>new j({$and:e.map(q)}),or:(...e)=>new j({$or:e.map(q)}),not:e=>new j({$not:q(e)}),field:e=>new j({$field:e})};var k=Object.defineProperty,I=(e,t,r)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,P=(e,t,r)=>I(e,"symbol"!=typeof t?t+"":t,r);class S{constructor(){P(this,"_isIndexRange")}}var A=Object.defineProperty,N=(e,t,r)=>t in e?A(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Q=(e,t,r)=>N(e,"symbol"!=typeof t?t+"":t,r);class T extends S{constructor(e){super(),Q(this,"rangeExpressions"),Q(this,"isConsumed"),this.rangeExpressions=e,this.isConsumed=!1}static new(){return new T([])}consume(){if(this.isConsumed)throw Error("IndexRangeBuilder has already been used! Chain your method calls like `q => q.eq(...).eq(...)`. See https://docs.convex.dev/using/indexes");this.isConsumed=!0}eq(e,t){return this.consume(),new T(this.rangeExpressions.concat({type:"Eq",fieldPath:e,value:(0,o.cy)(t)}))}gt(e,t){return this.consume(),new T(this.rangeExpressions.concat({type:"Gt",fieldPath:e,value:(0,n.rz)(t)}))}gte(e,t){return this.consume(),new T(this.rangeExpressions.concat({type:"Gte",fieldPath:e,value:(0,n.rz)(t)}))}lt(e,t){return this.consume(),new T(this.rangeExpressions.concat({type:"Lt",fieldPath:e,value:(0,n.rz)(t)}))}lte(e,t){return this.consume(),new T(this.rangeExpressions.concat({type:"Lte",fieldPath:e,value:(0,n.rz)(t)}))}export(){return this.consume(),this.rangeExpressions}}var _=Object.defineProperty,R=(e,t,r)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,B=(e,t,r)=>R(e,"symbol"!=typeof t?t+"":t,r);class J{constructor(){B(this,"_isSearchFilter")}}function V(e,t,r,n){if(void 0===e)throw TypeError(`Must provide arg ${t} \`${n}\` to \`${r}\``)}var L=Object.defineProperty,F=(e,t,r)=>t in e?L(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,D=(e,t,r)=>F(e,"symbol"!=typeof t?t+"":t,r);class M extends J{constructor(e){super(),D(this,"filters"),D(this,"isConsumed"),this.filters=e,this.isConsumed=!1}static new(){return new M([])}consume(){if(this.isConsumed)throw Error("SearchFilterBuilder has already been used! Chain your method calls like `q => q.search(...).eq(...)`.");this.isConsumed=!0}search(e,t){return V(e,1,"search","fieldName"),V(t,2,"search","query"),this.consume(),new M(this.filters.concat({type:"Search",fieldPath:e,value:t}))}eq(e,t){return V(e,1,"eq","fieldName"),2!=arguments.length&&V(t,2,"search","value"),this.consume(),new M(this.filters.concat({type:"Eq",fieldPath:e,value:(0,o.cy)(t)}))}export(){return this.consume(),this.filters}}let z="1.19.2";var U=Object.defineProperty,W=(e,t,r)=>t in e?U(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,G=(e,t,r)=>W(e,"symbol"!=typeof t?t+"":t,r);function H(e){throw Error("consumed"===e?"This query is closed and can't emit any more values.":"This query has been chained with another operator and can't be reused.")}Symbol.asyncIterator;class Y{constructor(e){G(this,"state"),this.state={type:"preparing",query:e}}takeQuery(){if("preparing"!==this.state.type)throw Error("A query can only be chained once and can't be chained after iteration begins.");let e=this.state.query;return this.state={type:"closed"},e}startQuery(){if("executing"===this.state.type)throw Error("Iteration can only begin on a query once.");("closed"===this.state.type||"consumed"===this.state.type)&&H(this.state.type);let{queryId:e}=s("1.0/queryStream",{query:this.state.query,version:z});return this.state={type:"executing",queryId:e},e}closeQuery(){"executing"===this.state.type&&s("1.0/queryCleanup",{queryId:this.state.queryId}),this.state={type:"consumed"}}order(e){V(e,1,"order","order");let t=this.takeQuery();if("Search"===t.source.type)throw Error("Search queries must always be in relevance order. Can not set order manually.");if(null!==t.source.order)throw Error("Queries may only specify order at most once");return t.source.order=e,new Y(t)}filter(e){V(e,1,"filter","predicate");let t=this.takeQuery();return t.operators.push({filter:q(e(C))}),new Y(t)}limit(e){V(e,1,"limit","n");let t=this.takeQuery();return t.operators.push({limit:e}),new Y(t)}[Symbol.asyncIterator](){return this.startQuery(),this}async next(){("closed"===this.state.type||"consumed"===this.state.type)&&H(this.state.type);let e="preparing"===this.state.type?this.startQuery():this.state.queryId,{value:t,done:r}=await a("1.0/queryStreamNext",{queryId:e});return r&&this.closeQuery(),{value:(0,n.du)(t),done:r}}return(){return this.closeQuery(),Promise.resolve({done:!0,value:void 0})}async paginate(e){if(V(e,1,"paginate","options"),"number"!=typeof e?.numItems||e.numItems<0)throw Error(`\`options.numItems\` must be a positive number. Received \`${e?.numItems}\`.`);let t=this.takeQuery(),r=e.numItems,i=e.cursor,o=e?.endCursor??null,s=e.maximumRowsRead??null,{page:u,isDone:l,continueCursor:c,splitCursor:d,pageStatus:h}=await a("1.0/queryPage",{query:t,cursor:i,endCursor:o,pageSize:r,maximumRowsRead:s,maximumBytesRead:e.maximumBytesRead,version:z});return{page:u.map(e=>(0,n.du)(e)),isDone:l,continueCursor:c,splitCursor:d,pageStatus:h}}async collect(){let e=[];for await(let t of this)e.push(t);return e}async take(e){return V(e,1,"take","n"),!function(e,t,r,n){if(!Number.isInteger(e)||e<0)throw TypeError(`Arg 1 \`n\` to \`${r}\` must be a non-negative integer`)}(e,0,"take",0),this.limit(e).collect()}async first(){let e=await this.take(1);return 0===e.length?null:e[0]}async unique(){let e=await this.take(2);if(0===e.length)return null;if(2===e.length)throw Error("unique() query returned more than one result");return e[0]}}async function Z(e,t){if(validateArg(e,1,"get","id"),"string"!=typeof e)throw Error(`Invalid argument \`id\` for \`db.get\`, expected string but got '${typeof e}': ${e}`);let r={id:convexToJson(e),isSystem:t,version};return jsonToConvex(await performAsyncSyscall("1.0/get",r))}async function K(e,t){if(e.startsWith("_"))throw Error("System tables (prefixed with `_`) are read-only.");return validateArg(e,1,"insert","table"),validateArg(t,2,"insert","value"),jsonToConvex(await performAsyncSyscall("1.0/insert",{table:e,value:convexToJson(t)}))._id}async function X(e,t){validateArg(e,1,"patch","id"),validateArg(t,2,"patch","value"),await performAsyncSyscall("1.0/shallowMerge",{id:convexToJson(e),value:patchValueToJson(t)})}async function ee(e,t){validateArg(e,1,"replace","id"),validateArg(t,2,"replace","value"),await performAsyncSyscall("1.0/replace",{id:convexToJson(e),value:convexToJson(t)})}async function et(e){validateArg(e,1,"delete","id"),await performAsyncSyscall("1.0/remove",{id:convexToJson(e)})}var er=r(11420);er.v.object({numItems:er.v.number(),cursor:er.v.union(er.v.string(),er.v.null()),endCursor:er.v.optional(er.v.union(er.v.string(),er.v.null())),id:er.v.optional(er.v.number()),maximumRowsRead:er.v.optional(er.v.number()),maximumBytesRead:er.v.optional(er.v.number())});var en=r(79469),ei=Object.defineProperty,eo=Object.defineProperty,es=Object.defineProperty,ea=(e,t,r)=>t in e?es(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,eu=(e,t,r)=>ea(e,"symbol"!=typeof t?t+"":t,r);class el{constructor(e,t){eu(this,"_definition"),eu(this,"_name"),this._definition=e,this._name=t,setReferencePath(this,`_reference/childComponent/${t}`)}get exports(){return function e(t,r){return new Proxy({},{get(n,i){if("string"==typeof i)return e(t,[...r,i]);if(i===toReferencePath){let e=`_reference/childComponent/${t}`;for(let t of r)e+=`/${t}`;return e}}})}(this._name,[])}}function ec(e){let t=[];for(let[r,n]of Object.entries(e)){let e;e="string"==typeof n?{type:"leaf",leaf:n}:ec(n),t.push([r,e])}return{type:"branch",branch:t}}function ed(e){return e.map(([e,t,r])=>{let n=null;if(null!==r)for(let[e,t]of(n=[],Object.entries(r)))void 0!==t&&n.push([e,{type:"value",value:JSON.stringify(convexToJson(t))}]);let i=t.componentDefinitionPath;if(!i)throw Error("no .componentPath for component definition "+JSON.stringify(t,null,2));return{name:e,path:i,args:n}})}var eh=Object.defineProperty,ef=(e,t,r)=>t in e?eh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,ep=(e,t,r)=>ef(e,"symbol"!=typeof t?t+"":t,r);class ey{constructor(e){ep(this,"indexes"),ep(this,"searchIndexes"),ep(this,"vectorIndexes"),ep(this,"validator"),this.indexes=[],this.searchIndexes=[],this.vectorIndexes=[],this.validator=e}index(e,t){return this.indexes.push({indexDescriptor:e,fields:t}),this}searchIndex(e,t){return this.searchIndexes.push({indexDescriptor:e,searchField:t.searchField,filterFields:t.filterFields||[]}),this}vectorIndex(e,t){return this.vectorIndexes.push({indexDescriptor:e,vectorField:t.vectorField,dimensions:t.dimensions,filterFields:t.filterFields||[]}),this}self(){return this}export(){return{indexes:this.indexes,searchIndexes:this.searchIndexes,vectorIndexes:this.vectorIndexes,documentType:this.validator.json}}}function ev(e){return new ey((0,er.d)(e)?e:er.v.object(e))}class em{constructor(e,t){ep(this,"tables"),ep(this,"strictTableNameTypes"),ep(this,"schemaValidation"),this.tables=e,this.schemaValidation=t?.schemaValidation===void 0||t.schemaValidation}export(){return JSON.stringify({tables:Object.entries(this.tables).map(([e,t])=>{let{indexes:r,searchIndexes:n,vectorIndexes:i,documentType:o}=t.export();return{tableName:e,indexes:r,searchIndexes:n,vectorIndexes:i,documentType:o}}),schemaValidation:this.schemaValidation})}}new em({_scheduled_functions:ev({name:er.v.string(),args:er.v.array(er.v.any()),scheduledTime:er.v.float64(),completedTime:er.v.optional(er.v.float64()),state:er.v.union(er.v.object({kind:er.v.literal("pending")}),er.v.object({kind:er.v.literal("inProgress")}),er.v.object({kind:er.v.literal("success")}),er.v.object({kind:er.v.literal("failed"),error:er.v.string()}),er.v.object({kind:er.v.literal("canceled")}))}),_storage:ev({sha256:er.v.string(),size:er.v.float64(),contentType:er.v.optional(er.v.string())})},void 0)},79469:(e,t,r)=>{r.d(t,{Gg:()=>s,dp:()=>a,qQ:()=>o});var n=r(99564),i=r(51272);function o(e){let t=(0,i.Jc)(e);if(void 0===t.name){if(void 0!==t.functionHandle)throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received function handle ${t.functionHandle}`);if(void 0!==t.reference)throw Error(`Expected function reference in the current component like "api.file.func" or "internal.file.func", but received reference ${t.reference}`);throw Error(`Expected function reference like "api.file.func" or "internal.file.func", but received ${JSON.stringify(t)}`)}if("string"==typeof e)return e;let r=e[n.A];if(!r)throw Error(`${e} is not a functionReference`);return r}function s(e){return{[n.A]:e}}let a=function e(t=[]){return new Proxy({},{get(r,i){if("string"==typeof i)return e([...t,i]);if(i===n.A){if(t.length<2){let e=["api",...t].join(".");throw Error(`API path is expected to be of the form \`api.moduleName.functionName\`. Found: \`${e}\``)}let e=t.slice(0,-1).join("/"),r=t[t.length-1];return"default"===r?e:e+":"+r}return i===Symbol.toStringTag?"FunctionReference":void 0}})}()},99564:(e,t,r)=>{r.d(t,{A:()=>n});let n=Symbol.for("functionName")}}]);